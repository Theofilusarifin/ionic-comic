<ion-app *ngIf="!username">
  <ion-header>
    <ion-toolbar>
      <ion-title [hidden]="is_register">Login</ion-title>
      <ion-title [hidden]="is_login">Register</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content [hidden]="is_register">
    <ion-card
      class="ion-margin ion-padding-end"
      style="background: transparent"
    >
      <ion-item style="cursor: pointer">
        <ion-input type="text" placeholder="Email" [(ngModel)]="login_email">
        </ion-input>
      </ion-item>

      <ion-item style="cursor: pointer">
        <ion-input
          type="password"
          placeholder="Password"
          [(ngModel)]="login_password"
        >
        </ion-input>
      </ion-item>

      <ion-button
        type="submit"
        expand="block"
        color="tertiary"
        (click)="login()"
        class="ion-margin-start ion-margin-vertical"
        >Login</ion-button
      >
      <ion-chip *ngIf="login_error">{{ login_error }}</ion-chip>
      
      <ion-item style="cursor: pointer" class="ion-text-center">
        <h6 (click)="showRegister()" 
          >Don't have any Account? Register Now!
        </h6>
      </ion-item>
    </ion-card>
  </ion-content>

  <ion-content [hidden]="is_login">
    <ion-card class="ion-margin ion-padding-end" style="background: transparent">
      <ion-item style="cursor: pointer">
        <ion-input
          type="text"
          placeholder="Username"
          [(ngModel)]="register_username"
        ></ion-input>
      </ion-item>
      <ion-item style="cursor: pointer">
        <ion-input
          type="text"
          placeholder="Email"
          [(ngModel)]="register_email"
        ></ion-input>
      </ion-item>
      <ion-item style="cursor: pointer">
        <ion-input
          type="password"
          placeholder="Password"
          [(ngModel)]="register_password"
        ></ion-input>
      </ion-item>

      <ion-item style="cursor: pointer">
        <ion-input
          type="password"
          placeholder="Retype Password"
          [(ngModel)]="register_re_password"
        ></ion-input>
      </ion-item>

      <ion-button
        expand="block"
        color="tertiary"
        (click)="register()"
        class="ion-margin-start ion-margin-vertical"
        >Register</ion-button
      >
      <ion-chip *ngIf="register_error">{{ register_error }}</ion-chip>

      <ion-item style="cursor: pointer" class="ion-text-center">
        <h6 (click)="showLogin()" 
          >Already have Account? Login Here!
        </h6>
      </ion-item>
    </ion-card>
  </ion-content>
</ion-app>

<ion-app *ngIf="username">
  <ion-menu content-id="content">
    <ion-header>
      <ion-toolbar color="tertiary">
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <ion-menu-toggle>
        <ion-list>
          <!-- Home -->
          <ion-item style="cursor: pointer">
            <ion-icon name="home" color="tertiary"></ion-icon>
            <ion-label routerLink="/home" class="ion-padding-start"
              >Home</ion-label
            >
          </ion-item>
          <!-- Search -->
          <ion-item style="cursor: pointer">
            <ion-icon name="search-circle" color="tertiary"></ion-icon>
            <ion-label routerLink="/search" class="ion-padding-start"
              >Search</ion-label
            >
          </ion-item>
          <!-- Favorite -->
          <ion-item style="cursor: pointer">
            <ion-icon name="bookmark" color="tertiary"></ion-icon>
            <ion-label routerLink="/bookmarked" class="ion-padding-start"
              >Favorite</ion-label
            >
          </ion-item>
          <!-- Genre -->
          <ion-item style="cursor: pointer">
            <ion-icon name="reader" color="tertiary"></ion-icon>
            <ion-label routerLink="/genre" class="ion-padding-start"
              >Genres</ion-label
            >
          </ion-item>
          <!-- Completed -->
          <ion-item style="cursor: pointer">
            <ion-icon name="checkmark-circle" color="tertiary"></ion-icon>
            <ion-label routerLink="/completed" class="ion-padding-start"
              >Completed</ion-label
            >
          </ion-item>
          <!-- Random -->
          <ion-item style="cursor: pointer">
            <ion-icon name="paper-plane" color="tertiary"></ion-icon>
            <ion-label routerLink="/random" class="ion-padding-start"
              >Random</ion-label
            >
          </ion-item>
          <!-- Log out -->
          <ion-item style="cursor: pointer">
            <ion-icon name="log-out" color="tertiary"></ion-icon>
            <ion-label
              type="submit"
              (click)="logout()"
              class="ion-padding-start"
              >Logout</ion-label
            >
          </ion-item>
        </ion-list>
      </ion-menu-toggle>
    </ion-content>
  </ion-menu>

  <ion-header class="ion-padding-bottom ion-margin-bottom">
    <ion-toolbar color="tertiary">
      <ion-buttons slot="start">
        <ion-menu-button autoHide="false"></ion-menu-button>
      </ion-buttons>

      <ion-title>Komikku</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <router-outlet id="content"> </router-outlet>
  </ion-content>
</ion-app>
